//
// Created by Bruno Wernimont on 2013
// Copyright 2013 NoteIT
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//    http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.
//

#import "Settings.h"

#define PREFER_MARKDOWN_SYNTAX @"preferMarkdownSyntax"
#define SHOW_TEXT_TOOLBAR_ACCESORY @"showTextToolbarAccesory"

////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////
@implementation Settings


////////////////////////////////////////////////////////////////////////////////////////////////////
+ (Settings *)shared {
    BK_ADD_SHARED_INSTANCE_USING_BLOCK(^{
        return [[self alloc] init];
    })
}


////////////////////////////////////////////////////////////////////////////////////////////////////
+ (BOOL)isPreferingMarkdownSyntax {
    return [[[self shared] preferMarkdownSyntax] boolValue];
}


////////////////////////////////////////////////////////////////////////////////////////////////////
+ (BOOL)showTextToolbarAccesory {
    return [[[self shared] showTextToolbarAccesory] boolValue];
}


////////////////////////////////////////////////////////////////////////////////////////////////////
- (void)save {
    [[NSUserDefaults standardUserDefaults] synchronize];
}


////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////
#pragma mark -
#pragma mark Getters and setters


////////////////////////////////////////////////////////////////////////////////////////////////////
- (NSNumber *)showTextToolbarAccesory {
    return [[NSUserDefaults standardUserDefaults] objectForKey:SHOW_TEXT_TOOLBAR_ACCESORY];
}


////////////////////////////////////////////////////////////////////////////////////////////////////
- (void)setShowTextToolbarAccesory:(NSNumber *)showTextToolbarAccesory {
    [[NSUserDefaults standardUserDefaults] setObject:showTextToolbarAccesory forKey:SHOW_TEXT_TOOLBAR_ACCESORY];
}


////////////////////////////////////////////////////////////////////////////////////////////////////
- (NSNumber *)preferMarkdownSyntax {
    return [[NSUserDefaults standardUserDefaults] objectForKey:PREFER_MARKDOWN_SYNTAX];
}


////////////////////////////////////////////////////////////////////////////////////////////////////
- (void)setPreferMarkdownSyntax:(NSNumber *)preferMarkdownSyntax {
    [[NSUserDefaults standardUserDefaults] setObject:preferMarkdownSyntax forKey:PREFER_MARKDOWN_SYNTAX];
}


@end
